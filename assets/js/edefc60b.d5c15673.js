"use strict";(self.webpackChunkslatedb_website=self.webpackChunkslatedb_website||[]).push([[624],{6496:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"performance","title":"Performance","description":"SlateDB is still a young project and its performance has proven reasonable for a wide range of use cases already. Consequently, we haven\'t spent a lot of time optimizing SlateDB\'s performance. We plan to do so in the future.","source":"@site/docs/performance.md","sourceDirName":".","slug":"/performance","permalink":"/docs/performance","draft":false,"unlisted":false,"editUrl":"https://github.com/slatedb/slatedb-website/tree/main/docs/performance.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"docsSidebar","previous":{"title":"FAQ","permalink":"/docs/faq"}}');var s=r(4848),o=r(8453);const i={sidebar_position:7},a="Performance",h={},c=[{value:"Benchmarks",id:"benchmarks",level:2},{value:"Nightly",id:"nightly",level:3},{value:"Microbenchmarks",id:"microbenchmarks",level:2},{value:"Nightly",id:"nightly-1",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"performance",children:"Performance"})}),"\n",(0,s.jsx)(t.p,{children:"SlateDB is still a young project and its performance has proven reasonable for a wide range of use cases already. Consequently, we haven't spent a lot of time optimizing SlateDB's performance. We plan to do so in the future."}),"\n",(0,s.jsxs)(t.p,{children:["We have just begun to track SlateDB's performance. We currently have two benchmarking tools: ",(0,s.jsx)(t.strong,{children:"bencher"})," and ",(0,s.jsx)(t.strong,{children:"microbenchmarks"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"benchmarks",children:"Benchmarks"}),"\n",(0,s.jsxs)(t.p,{children:["SlateDB comes with a ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/tree/main/src/bencher",children:"bencher"})," tool to benchmark put/get operations against an object store. You can configure the tool with a variety of options. See ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/tree/main/src/bencher",children:"bencher/README.md"})," for details. ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/blob/main/src/bencher/benchmark-db.sh",children:"benchmark-db.sh"})," also serves as an example."]}),"\n",(0,s.jsx)(t.h3,{id:"nightly",children:"Nightly"}),"\n",(0,s.jsxs)(t.p,{children:["We run this tool ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/blob/main/.github/workflows/nightly.yaml",children:"nightly"})," and publish the results ",(0,s.jsx)(t.a,{href:"https://slatedb.io/performance/benchmarks/main",children:"here"}),". The benchmark runs on ",(0,s.jsx)(t.a,{href:"https://warpbuild.com",children:"WarpBuild"}),"'s ",(0,s.jsx)(t.a,{href:"https://docs.warpbuild.com/cloud-runners",children:"warp-ubuntu-latest-x64-16x"})," runners."]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["We have configured the job to use a ",(0,s.jsx)(t.a,{href:"https://docs.rs/object_store/latest/object_store/local/struct.LocalFileSystem.html",children:"LocalFilesystem"})," instead of S3, so the results don't reflect performance against a real S3 bucket. We plan to use S3 with this benchmark in the future."]})}),"\n",(0,s.jsx)("iframe",{src:"https://slatedb.io/performance/benchmarks/main",width:"100%",height:"540px"}),"\n",(0,s.jsx)(t.h2,{id:"microbenchmarks",children:"Microbenchmarks"}),"\n",(0,s.jsxs)(t.p,{children:["We use ",(0,s.jsx)(t.a,{href:"https://bheisler.github.io/criterion.rs/",children:"Criterion"})," to run microbenchmarks (located in ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/tree/main/benches",children:"benches"}),") for specific internal SlateDB functions. A comment is left on all PRs when a > 200% slowdown is detected."]}),"\n",(0,s.jsx)(t.h3,{id:"nightly-1",children:"Nightly"}),"\n",(0,s.jsxs)(t.p,{children:["Microbenchmarks also run ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb/blob/main/.github/workflows/nightly.yaml",children:"nightly"})," with the ",(0,s.jsx)(t.a,{href:"https://github.com/tikv/pprof-rs",children:"pprof-rs"})," profiler. The resulting profiler protobuf files are published ",(0,s.jsx)(t.a,{href:"https://github.com/slatedb/slatedb-website/tree/gh-pages/performance/microbenchmark-pprofs/main",children:"here"}),". The microbenchmarks run on ",(0,s.jsx)(t.a,{href:"https://docs.github.com/en/actions/using-github-hosted-runners/using-github-hosted-runners/about-github-hosted-runners#standard-github-hosted-runners-for-public-repositories",children:"standard Linux Github action runners"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["We highly recommend using ",(0,s.jsx)(t.a,{href:"https://pprof.me/",children:"pprof.me"})," to view the ",(0,s.jsx)(t.code,{children:"<microbenchmar>.pb"})," files, though any ",(0,s.jsx)(t.a,{href:"https://github.com/google/pprof",children:"pprof"})," compatible tool may be used."]})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>a});var n=r(6540);const s={},o=n.createContext(s);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);